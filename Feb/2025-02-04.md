# TIL Template

## 날짜: 2025-02-04

### 강의 학습목표
- 학습 목표 1 : NumPy 활용하기
  
- 학습 목표 2 : Pandas 활용하기

### 한 줄 정리
||한 줄 정리|비고|
|--|--|--|
|[Numpy](#주제-1-numpy)|대규모 다차원 배열 및 행렬 연산을 위한 파이썬 라이브러리||
|[차원](#numpy에서의-차원)|배열에서 데이터를 구성하는 축의 개수|Scalar = 0, Vector = 1, Matrix = 2, Tensor = 3|
|[형태](#numpy에서의-shape)|배열의 모양, 각 차원별 요소의 개수|`reshape()`, `resize()`메서드로 shape 변환 가능|
|[인덱스](#numpy에서의-인덱싱)|배열 안에서 인자의 위치|`start:end:step`구조로 slicing 활용|
|[유니버설 함수](#numpy에서의-연산)|반복적으로 수행되는 벡터 연산을 제공하는 함수||
|[Pandas](#주제-2-pandas)|구조화 된 데이터 프레임 객체를 조작하거나 분석하기 위한 파이썬 라이브러리||
|[Series](#pandas에서의-series)|1차원 배열 형태의 데이터 구조|Vector 형태라고 볼 수 있다.|
|[데이터 프레임](#pandas에서의-데이터프레임)|2차원 테이블 형태의 데이터 구조(행과 열로 구성)|Matrix 형태라고 볼 수 있다.|
|[그룹화](#pandas에서의-그룹화)|데이터를 일정 기준에 따라 변환하거나 연산|`groupby()`메서드 활용|
|[Merge](#pandas에서의-merge)|여러 데이터 프레임을 공통 열이나 행으로 결함|`merge()`메서드 활용|
|[Pivot](#pandas에서의-pivot)|데이터 프레임을 일정 기준에 따라 재구성하는 과정으로 행과 열을 재배치|`pivot()`, `pivot_table()`메서드 활용|

### 주제 1: NumPy
- NumPy는 대규모 다차원 배열 및 행렬 연산을 위한 <span style = "color:orange">**고성능 수학 함수와 도구를 제공**</span>하는 파이썬 라이브러리이다.</br>
  데이터 구조를 기반으로 <span style = "color:orange">**수학 연산, 선형대수, 통계, 변환, 기본적인 수치 계산**</span> 등이 가능하도록 다양한 함수와 도구를 포함하고 있다.

- NumPy를 사용하는 이유는 대규모 수치 데이터를 빠르고 ```메모리 효율적```으로 처리하기 위해서이다.
  
- NumPy의 설치
    ```python
    pip install numpy
    ```
- NumPy는 자주 사용하는 라이브러리이다 보니 np로 호출하는 것이 관례이다.

    ```python
    import numpy as np
    ```
- NumPy에서의 간단한 배열 생성

    ```python
    import numpy as np

    a = np.array([1, 3, 5, 7])
    print("NumPy Array : ", a)
    ```
- 출력 결과
    ```
    NumPy Array : [1 3 5 7]
    ```

#### NumPy에서의 차원
  
- 배열을 구성하는 축의 개수를 의미한다. 이와 같은 차원을 ```.ndim```을 이용해 확인할 수 있다.
  
  ```python
  import numpy as np

  scalar = np.array(1)
  vector = np.array([1, 2, 3])
  matrix = np.array([[1, 2], [3, 4]])
  tensor = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])

  print(f"scalar = {scalar.ndim}")
  print(f"vector = {vector.ndim}")
  print(f"matrix = {matrix.ndim}")
  print(f"tensor = {tensor.ndim}")
  ```
  출력
  ```
  scalar = 0
  vector = 1
  matrix = 2
  tensor = 3
  ```
  |차원|명칭|예시|
  |--|--|--|
  |0차원|스칼라(Scalar)|```np.array(1)```&rarr;```1```|
  |1차원|벡터(Vector)|```np.array([1, 2, 3])```&rarr;```[1 2 3]```|
  |2차원|행렬(Matrix)|```np.array([[1, 2], [3, 4]])```&rarr;```[[1 2] [3 4]]```|
  |3차원|텐서(Tensor)|```np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])```|
  |n차원|n차원 배열|```np.array(...)```|

#### NumPy에서의 Shape
  
- NumPy에서는 ```.shape```을 사용해 형태를 확인할 수 있다.
  
  ```python
  import numpy as np

  scalar = np.array(1)
  vector = np.array([1, 2, 3])
  matrix = np.array([[1, 2], [3, 4]])
  tensor = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])

  print(f"scalar = {scalar.ndim}")
  print(f"vector = {vector.ndim}")
  print(f"matrix = {matrix.ndim}")
  print(f"tensor = {tensor.ndim}")
  ```
  출력
  ```
  scalar = ()
  vector = (3,)
  matrix = (2, 2)
  tensor = (2, 2, 2)
  ```
- ```reshape()```를 사용해 기존 데이터를 유지한 채 새로운 형태로 배열을 변경할 수 있다.
  
  ```python
  import numpy as np

  array = np.array([1, 2, 3, 4])

  reshaped = array.reshape(2, 2)
  print(reshaped)
  ```
  출력
  ```
  [[1 2]
   [3 4]]
  ```
- ```resize()```를 이용해 원본 배열을 확장하거나 축소하는 등의 변경을 할 수 있다.
  
  ```python
  import numpy as np

  array = np.array([1, 2, 3, 4])

  array.resize(2, 3)
  print(array)
  ```
  출력
  ```
  [[1 2 3]
   [4 0 0]]
  ```
- ```flatten()```을 사용하여 다차원 배열을 1차원 배열로 변환할 수 있다.
  
  ```python
  import numpy as np

  array = np.array([[1, 2, 3], [4, 5, 6]])
  flattened_array = array.flatten()
  print(flattened_array)
  ```
  출력
  ```
  [1 2 3 4 5 6]
  ```
- `transpose()`를 사용해 데이터의 행과 열을 바꾸거나 다차원 배열의 축 순서를 변경할 수 있다.
  
  ```python
  import numpy as np

  array = np.array([[1, 2, 3], [4, 5, 6]])
  transposed = array.transpose()
  print(transposed)
  ```
  출력
  ```
  [[1 4]
   [2 5]
   [3 6]]
  ```

#### NumPy에서의 데이터 타입
- NumPy에서 제공하는 데이터 타입은 C 언어의 기본 데이터 타입을 기반으로 하며 일반적인 파이썬의 데이터 타입보다 **메모리 사용량이 적고 연산 속도가 빠른 것**이 특징이다.
  
- `.dtype`속성을 통해 데이터 타입을 확인할 수 있고 배열 생성시 `dtype`인수로 지정하거나 `astype()`을 사용하여 변환할 수 있다.
  
  ```python
  import numpy as np

  int_array = np.array([1, 2, 3], dtype=np.int32)
  print(int_array.dtype)

  float_array = np.array([1.5, 2.3, 3.7], dtype=np.float64)
  print(float_array.dtype)

  string_array = np.array(["apple", "banana", "cherry"], dtype=np.str_)
  print(string_array.dtype)
  ```
  출력
  ```
  int32
  float64
  <U6
  ```
  ```python
  array = np.array([1, 2, 3], dtype=np.int32)

  # int32 -> float64로 변환
  converted_array = array.astype(np.float64)
  print(converted_array.dtype)

  # float64 -> int8로 변환 (데이터 손실 주의)
  converted_int_array = converted_array.astype(np.int8)
  print(converted_int_array.dtype)
  ```
  출력
  ```
  float64
  int8
  ```
  
#### NumPy에서의 인덱싱
- Indexing은 배열의 특정 요소에 접근하거나 값을 참조하기 위한 방법이다.
- 반복문을 사용하지 않고 직접 요소에 접근할 수 있어 처리 속도가 향상된다. 또한 배열의 특정 부분만 선택하여 전체 배열을 복사할 필요가 없기 때문에 메모리 사용량을 절감할 수 있다.
- 정수 인덱싱
  
  ```python
  import numpy as np

  array = np.array([10, 20, 30, 40])
  print(array[0])
  print(array[-1])

  matrix = np.array([[1, 2, 3], [4, 5, 6]])
  print(matrix[1, 2])
  ```
  출력
  ```
  10
  40
  6
  ```
- 슬라이싱</br>
  배열의 특정 범위를 선택하는 방법으로 `start:end:step` 형식으로 추출할 수 있다.

  ```python
  import numpy as np

  array = np.array([1, 2, 3, 4, 5])

  print(array[1:4])
  print(array[:3])
  print(array[::2])
  ```
  출력
  ```
  [2 3 4]
  [1 2 3]
  [1 3 5]
  ```
- 인덱싱을 활용한 데이터 수정</br>
  위에서 배운 기본적인 인덱싱을 활용하여 아래와 같이 데이터를 수정할 수 있다.

  ```python
  import numpy as np

  array = np.array([1, 2, 3, 4])

  array[0] = 9
  print(array)

  array[1:3] = [5, 6]
  print(array)
  ```
  출력
  ```
  [9 2 3 4]
  [9 5 6 4]
  ```
#### NumPy에서의 연산
- 요소별 연산</br>
  NumPy는 배열의 각 요소에 대해 연산을 수행하며 동일한 크기의 배열에 대해 사칙 연산을 수행할 수 있다.
  ```python
  import numpy as np

  a = np.array([1, 2, 3])
  b = np.array([4, 5, 6])

  print(a + b)
  print(a - b)
  print(a * b)
  print(a / b)
  ```
  출력
  ```
  [5 7 9]
  [-3 -3 -3]
  [ 4 10 18]
  [0.25 0.4  0.5 ]
  ```
- 비교 연산</br>
  배열의 요소의 값들을 비교하여 `bool`값을 `return`한다.
  ```python
  import numpy as np

  a = np.array([1, 2, 3])
  print(a > 2)
  print(a == b)
  print(a <= 2)
  ```
  출력
  ```
  [False False  True]
  [False False False]
  [ True  True False]
  ```
- 통계 연산</br>
  NumPy는 배열의 집계 및 통계적 분석을 위한 다양한 함수를 제공한다.
  ```python
  array = np.array([1, 2, 3, 4, 5])

  print(np.mean(array)) #평균값
  print(np.median(array)) #중위값
  print(np.max(array)) #최대값
  print(np.min(array)) #최소값
  print(np.std(array)) #분산
  ```
  출력
  ```
  3.0
  3.0
  5
  1
  1.4142135623730951
  ```
- 선형대수 연산</br>
  NumPy는 다양한 선형대수 함수를 제공한다.
  ```python
  matrix = np.array([[1, 2], [3, 4]])

  # 행렬 곱 (내적)
  vector = np.array([2, 3])
  print(np.dot(matrix, vector))

  # 역행렬 계산
  inverse = np.linalg.inv(matrix)
  print(inverse)
  ```
  출력
  ```
  [ 8 18]

  [[-2.   1. ]
   [ 1.5 -0.5]]
  ```
- 브로드캐스팅을 활용한 연산</br>
  크기가 다른 배열 간의 연산을 수행할 때, NumPy는 작은 배열을 자동으로 확장하여 연산이 가능하도록 지원한다.
  ```python
  matrix = np.array([[1, 2, 3], [4, 5, 6]])
  vector = np.array([1, 2, 3])

  result = matrix + vector
  print(result)
  ```
  출력
  ```
  [[2 4 6]
   [5 7 9]]
  ```
- 유니버설 함수 </br>
  NumPy에서 유니버설 함수는 배열의 각 요소에 대해 반복적으로 수행되는 벡터화된 연산을 제공하는 함수이다. 유니버설 함수는 여러 개의 입력 배열을 받아 연산을 수행가고 하나 이상의 출력을 반환할 수 있다.
  |유형|함수|
  |--|--|
  |산술 연산|`np.add()`,`np.substract()`,`np.multiply()`,`np.divide()`|
  |삼각 함수|`np.sin()`,`np.cos()`,`np.tan()`,`np.arcsin()`|
  |지수 로그 함수|`np.exp()`,`np.log()`,`np.log10()`|
  |비교 연산|`np.greater()`,`np.less()`,`np.equal()`|
  |논리 연산|`np.logical_and()`,`np.logical_or()`,`np.logical_not()`|
  |비트 연산|`np.bitwise_and()`,`np.bitwise_or()`,`np.bitwise_xor()`|

  NumPy 유니버설 함수는 `np.함수명(배열, 옵션)`형식으로 사용된다. 배열의 각 요소에 대해 연산을 수행하고 `out`매개변수를 사용해 결과를 기존 배열에 저장할 수 있다.
  ```python
  import numpy as np
  
  array1 = np.array([1, 2, 3])
  result1 = np.exp(array1)
  
  print(result1)

  array2 = np.array([4, 5, 6])
  output_array = np.array([0, 0, 0])
  result2 = np.add(array1, array2, out = output_array)

  print(output_array)
  ```
  출력
  ```
  [ 2.71828183  7.3890561  20.08553692]
  [5 7 9]
  ```
  `out`을 사용할 때, `np.empty_like(배열)`을 사용할 수 있다. 이는 배열의 크기는 같고 안의 요소는 없는 것을 만든다고 생각할 수 있다.
  ```python
  import numpy as np

  a = np.array([1, 2, 3])
  result = np.empty_like(a)

  np.muliply(a, 2, out = result)
  print(result)
  ```
  출력
  ```
  [2 4 6]
  ```

### 주제 2: Pandas
- Pandas는 <span style = "color:orange">**구조화된 데이터의 조작과 분석**</span>을 위한 데이터프레임 및 시리즈 객체를 제공하는 파이썬 라이브러리이다. <span style = "color:orange">**방대한 양의 데이터를 효율적으로 처리하고 직관적인 방식으로 데이터를 변환**</span>할 수 있고 <span style = "color:orange">**데이터 조작과 분석을 손쉽게 수행**</span>할 수 있도록 강력한 기능을 제공한다.
  
- Pandas를 사용하는 이유는 데이터를 구조화하여 효과적으로 처리하고 분석할 수 있도록 하기 위해서이다.
- Pandas의 설치
  ```python
  pip install pandas
  ```
- Pandas 역시 자주 사용하는 라이브러리로 pd로 호출하는 것이 관례이다.
  ```python
  import pandas as pd
  ```
- Pandas에서의 간단한 데이터 프레임 생성
  ```python
  import pandas as pd

  data = {
    '이름': ['홍길동', '김철수', '신창섭'],
    '나이': [20, 15, 23],
    '도시': ['서울', '대전', '인천']
  }

  df = pd.DataFrame(data)
  print(df)
  ```
- 출력 결과
  ```
      이름  나이  도시
  0  홍길동  20  서울
  1  김철수  15  대전
  2  신창섭  23  인천
  ```
#### Pandas에서의 Series
- Pandas에서 Series는 인덱스를 가지는 1차원 배열 형태의 구조로 DataFrame(데이터프레임)의 구성 요소이다.
- Series 객체는 아래와 같은 속성을 통해 데이터를 쉽게 확인하고 조작할 수 있다.
  |속성|설명|예제|
  |--|--|--|
  |`value`|Series의 데이터 값을 ndarray 형식으로 return|`series.values`|
  |`index`|Series의 인덱스를 return|`series.index`|
  |`dtype`|Series의 데이터 유형을 return|`series.dtype`|
  |`shape`|Series의 크기를 return|`series.shape`|
  |`size`|Series의 총 요소 수를 return|`series.size`|
  |`name`|Series 객체의 이름 설정 및 확인|`series.name = '이름'`|

- Series 객체는 다양한 방법으로 생성할 수 있다.</br>
  Series 객체를 생성할 때, 앞 글자가 대문자인 것을 항상 확인해야한다. `Series`
  ```python
  series1 = pd.Series([1, 2, 3, 4])
  print(series1)

  series2 = pd.Series({'a':10, 'b':20, 'c':30})
  print(series2)

  series3 = pd.Series([100, 200, 300], index=['x','y','z'])
  print(series3)

  series4 = pd.Series([1.5, 2.5, 3.5], dtype = 'float64')
  print(series4)
  ```
  출력
  ```
  0    1
  1    2
  2    3
  3    4
  dtype: int64
  a    10
  b    20
  c    30
  dtype: int64
  x    100
  y    200
  z    300
  dtype: int64
  0    1.5
  1    2.5
  2    3.5
  dtype: float64
  ```



#### Pandas에서의 데이터프레임
#### Pandas에서의 필터링
#### Pandas에서의 그룹화
#### Pandas에서의 Merge
#### Pandas에서의 결측치 처리
#### Pandas에서의 Pivot
#### Pandas에서의 중복제거
#### Pandas에서의 문자열 처리

### 도전 과제
- 도전 과제 1: 도전 과제에 대한 설명 및 해결 방법
- 도전 과제 2: 도전 과제에 대한 설명 및 해결 방법

### 오늘의 회고
- 오늘의 학습 경험에 대한 자유로운 생각이나 느낀 점을 기록합니다.
- 성공적인 점, 개선해야 할 점, 새롭게 시도하고 싶은 방법 등을 포함할 수 있습니다.

### 참고 자료 및 링크
- [KTB 교육자료]() *비공개*